<!DOCTYPE html>
<html lang="en">

  <head>

    <!-- üõ°Ô∏è Set Default Consent BEFORE GTM loads -->
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('consent', 'default', {
        'ad_storage': 'denied',
        'ad_user_data': 'denied',
        'ad_personalization': 'denied',
        'analytics_storage': 'denied'
      });
    </script>

    <!-- Google Tag Manager -->
    <script>
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-MFHF8JHC');
    </script>
    <!-- End Google Tag Manager -->

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Privacy Policy ‚Äì Analytics Playground</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  </head>

  <body class="bg-gray-100 text-gray-800">

    <!-- Header -->
    <header class="bg-white shadow p-4 flex justify-between items-center">
      <h1 class="text-xl font-bold">Analytics Playground</h1>
      <nav class="space-x-4">
        <a href="/index.html">Home</a>
        <a href="/product.html">Product</a>
      </nav>
    </header>

    <!-- Privacy Policy Content -->
    <section class="py-16 px-4 max-w-3xl mx-auto">
      <h2 class="text-3xl font-semibold text-center mb-6">Privacy Policy for Analytics Playground</h2>
      <p class="text-lg mb-4">Last updated: April, 2025.</p>

      <p class="mb-6">
        This Privacy Policy explains how we collect, use, and protect your information when you visit our website, Analytics Playground.
      </p>

      <h3 class="text-xl font-semibold mt-6 mb-4">1. Data Collection</h3>
      <p class="mb-4">
        We collect event data when you submit forms (such as our newsletter and product demo forms). This data includes interaction with our site (form submission) but does not include any personally identifiable information. The information provided in these forms is not stored‚Äîit is only used to trigger tracking events for analysis.
      </p>

      <h3 class="text-xl font-semibold mt-6 mb-4">2. Cookies and Tracking</h3>
      <p class="mb-4">
        We use cookies and other tracking technologies (via Google Tag Manager) to track user interactions with our site. These cookies are used solely for tracking form submissions and measuring website performance. We do not store personal data from these cookies.
      </p>

      <h3 class="text-xl font-semibold mt-6 mb-4">3. How We Use Your Data</h3>
      <p class="mb-4">
        The information we collect is used for website testing and analytics purposes. No personal information is saved or shared.
      </p>

      <h3 class="text-xl font-semibold mt-6 mb-4">4. Cookie Consent</h3>
      <p class="mb-4">
        When you visit our site, you will be asked to consent to our use of cookies. You can choose to accept or decline cookies. If you decline, we will not set non-essential cookies for analytics or tracking.
      </p>

      <h3 class="text-xl font-semibold mt-6 mb-4">5. Your Rights</h3>
      <p class="mb-4">
        Since we do not store personal data, you have no data access rights at this time. However, if you have any questions or concerns, feel free to contact us.
      </p>

      <div class="mt-8 flex justify-center">
        <button onclick="resetConsent()" class="bg-blue-600 hover:bg-blue-700 text-white text-sm px-4 py-2 rounded">
          Change your cookie preferences
        </button>
      </div>
      
    </section>

    <!-- Footer -->
    <footer class="text-center py-12 bg-white border-t text-sm">
      <p class="mb-2">¬© 2025 Analytics Playground. All rights reserved.</p>
      <p class="mb-2">This site is a sandbox environment for testing analytics events and user behavior tracking.</p>
      <p>
        Built by <a 
          href="https://github.com/jrafcrzw" 
          target="_blank" 
          rel="noopener noreferrer" 
          id="link-footer-github" 
          class="text-blue-600 underline"
        >@jrafcrzw</a>
      </p>
      <p>
        <a href="/privacy-policy.html" class="text-blue-600 underline">Privacy Policy</a>
      </p>
    </footer>

    <!-- Consent Banner (Floating Bottom-Left) -->
    <div id="consent-banner" class="fixed bottom-8 bg-blue-600 text-white py-3 px-6 rounded-lg shadow-lg z-50">
      <p class="text-sm">
        üç™ We use cookies to enhance your experience. Let us know your preference:
      </p>
      <button id="consent-accept" class="mt-2 bg-blue-700 hover:bg-green-700 text-white px-4 py-2 rounded text-sm mr-2">
        Agree
      </button>
      <button id="consent-decline" class="mt-2 bg-blue-700 hover:bg-red-500 text-white px-4 py-2 rounded text-sm">
        Decline
      </button>
    </div>

    <script>
      window.dataLayer = window.dataLayer || [];

      const consentBanner = document.getElementById('consent-banner');
      const acceptButton = document.getElementById('consent-accept');
      const declineButton = document.getElementById('consent-decline');

      function setCookie(name, value, days) {
        let expires = "";
        if (days) {
          const date = new Date();
          date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
          expires = "; expires=" + date.toUTCString();
        }
        const secure = location.protocol === 'https:' ? "; Secure" : "";
        document.cookie = name + "=" + (value || "") + expires + "; path=/; SameSite=Lax" + secure;
      }

      function getCookie(name) {
        const nameEQ = name + "=";
        const ca = document.cookie.split(';');
        for (let i = 0; i < ca.length; i++) {
          let c = ca[i];
          while (c.charAt(0) === ' ') c = c.substring(1, c.length);
          if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);
        }
        return null;
      }

      function triggerConsentAccepted() {
        // Update Google Consent Mode
        gtag('consent', 'update', {
          'ad_storage': 'granted',
          'ad_user_data': 'granted',
          'ad_personalization': 'granted',
          'analytics_storage': 'granted'
        });

        // Optional: push event to dataLayer for custom analytics
        window.dataLayer.push({
          event: "consent_accepted",
          consent: "accepted"
        });

        console.log("Consent granted and updated via gtag()");
      }

      // Check for existing consent
      const consentGiven = getCookie('consentGiven');

      if (consentGiven === 'true') {
        consentBanner.style.display = 'none';
        triggerConsentAccepted();
      } else if (consentGiven === 'false') {
        consentBanner.style.display = 'none';
        // No need to call gtag here because default is already denied
      } else {
        consentBanner.style.display = 'block';
      }

      acceptButton.addEventListener('click', function () {
        setCookie('consentGiven', 'true', 180);
        consentBanner.style.display = 'none';
        triggerConsentAccepted();
      });

      declineButton.addEventListener('click', function () {
        setCookie('consentGiven', 'false', 180);
        consentBanner.style.display = 'none';

        window.dataLayer.push({
          event: "consent_declined",
          consent: "declined"
        });

        console.log("Consent explicitly declined");
      });
    </script>
    <!-- End of Consent Banner Script -->

    <!--Reset cookie preferences-->
    <script>
      function resetConsent() {
        // Remove the consent cookie
        document.cookie = "consentGiven=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Lax";
        // Reload the page to reset the consent state and re-trigger the banner logic
        location.reload();
        console.log("Consent reset. Page reloaded.");
      }
    </script>
    <!--End of Reset cookie preferences-->  

  </body>
</html>
